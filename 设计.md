### xx 系统数据库设计

#### 一、需求分析

##### 1.总体需求分析（描述总体需要设计或实现一个怎样的系统，包含什么需求或业务）

#### 模仿 xx 网，实现一个仿 xxapp

- 增：我的模块，未登录用户，不能看到整个我的页面，登录完之后可以看到，登录这个操作相当于是往 user 表插入一条数据，就可以看到我的模块了
- 删：
- 改：我的模块，头像在数据库里默认是有一张缺省图，性别和出生日期可以为空，当自己上传图片和修改性别出生，就是一个更新操作
- 查：我的模块，查询展示个人信息
- 查：电影模块：根据选择的城市返回所在的电影列表
- 查：城市模块：展示 city 表所有的城市；下拉，分页展示，（skip、limit）

* user 表：\_id，name（默认 phone 展示），phone，avatar，gender，birth
* city 表：cityId，cityName
* film 表：cityId（外键关联），filmId，name，grade，actors，nation，runtime，poster（图像），filmType，category，premiereAt（上映时间），synopsis，

<hr/>

##### 2.功能分析

- 1）我的 模块
- 2）城市 模块
- 3）电影 模块

##### 3.性能分析

-（该系统需要达到的性能需求，如 xx 查询返回不能超过多少毫秒，支持多少人并发查询等等）

#### 二、数据库设计

##### 1.总体设计

-（使用什么数据库，为什么？有什么优势？包含系统设计架构图，设计说明、分析，如为什这么设计，这样设计的优势等等）

##### 2.模块设计

- 1）我的 模块

  数据库设计截图即可

- PS（需包含：业务数据键值设计，用表格或 json 格式表示。增删改查分析和脚本示例。其他分析或说明，如索引创建和优化查询） 3.高可用、容灾方案设计
  （涉及副本集知识点，需包含原理分析，部署架构图，简单的本机或测试部署的脚本例子演示和截图） 4.高并发高负载扩展方案设计
  （涉及分片知识点，需说明哪些业务数据需要分片，如何分片，原理分析，部署架构图，简单的本机或测试部署的脚本例子演示和截图） 5.安全设计
  （数据库安全方面的设计，如访问权限，数据加密，防火墙规则等）
